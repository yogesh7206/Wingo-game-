<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Win89</title>
<style>
body { font-family: Arial, sans-serif; margin: 0; background: #f8f9fa; }
header { background: #007bff; padding: 10px; color: #fff; text-align: center; font-size: 20px; font-weight: bold; }
nav { background: #fff; border-top: 1px solid #ccc; position: fixed; bottom: 0; left: 0; width: 100%; display: flex; justify-content: space-around; padding: 5px 0; z-index: 1000; display:none; }
nav button { background: none; border: none; font-size: 14px; color: #333; display:flex; flex-direction:column; align-items:center; }
nav button span { font-size:18px; }
.section { display: none; padding: 15px; }
.active-section { display: block !important; }
.account-stats { display: flex; justify-content: space-around; flex-wrap: wrap; background: #fff; padding: 15px; border-radius: 12px; margin-bottom: 15px; }
.stat { text-align: center; flex: 1 1 45%; margin: 5px 0; }
.stat h3 { color: #004085; margin: 0; font-size: 18px; }
.stat p { color: #6c757d; font-size: 14px; margin: 0; }
.action-buttons { display: flex; justify-content: space-around; margin-top: 10px; }
.action-buttons button { flex: 1; margin: 5px; padding: 12px; border: none; border-radius: 25px; font-size: 16px; color: #fff; }
.recharge-btn { background: linear-gradient(45deg, #ffc107, #ffb300); }
.withdraw-btn { background: linear-gradient(45deg, #28a745, #218838); }
.submenu { display: none; background: #f4f4f4; padding: 10px; }
.submenu button { display: block; width: 100%; background: #fff; border: none; text-align: left; padding: 8px; margin-bottom: 5px; border-radius: 6px; }
.menu-list{margin:15px 0;background:#fff;border-radius:12px;overflow:hidden}
.menu-item{display:flex;align-items:center;gap:12px;padding:14px 16px;border-bottom:1px solid #eceff1; cursor:pointer;}
.menu-item:last-child{border-bottom:none}
.menu-icon{font-size:20px;width:24px;text-align:center}
.menu-text{flex:1;font-size:15px;color:#212529}
.menu-arrow{color:#9aa0a6}
.panel{display:none;padding:15px}
.panel.active{display:block}
.panel h3{margin:8px 0 12px}
.input{width:100%;padding:12px;border:1px solid #dfe3e8;border-radius:8px;margin-bottom:10px}
.btn{display:inline-block;padding:12px 14px;border:none;border-radius:10px;background:#007bff;color:#fff}
.btn.secondary{background:#6c757d}
.btn.block{width:100%}
.small{color:#6c757d;font-size:12px}
.tag{display:inline-block;background:#e8f0fe;color:#1967d2;border-radius:8px;padding:2px 8px;font-size:12px;margin-left:6px}
.hidden{display:none}
</style>
</head>
<body>

<header>Win89</header>

<!-- Sections -->
<div id="loginSection" class="section active-section">
    <h2>Login</h2>
    <input type="email" id="loginEmail" placeholder="Email"><br><br>
    <input type="password" id="loginPassword" placeholder="Password"><br><br>
    <button onclick="loginUser()">Login</button>
    <p>Don't have an account? <a href="#" onclick="showSection('registerSection')">Register</a></p>
</div>

<div id="registerSection" class="section">
    <h2>Register</h2>
    <input type="email" id="registerEmail" placeholder="Email"><br><br>
    <input type="password" id="registerPassword" placeholder="Password"><br><br>
    <button onclick="registerUser()">Register</button>
    <p>Already have an account? <a href="#" onclick="showSection('loginSection')">Login</a></p>
</div>

<div id="homeSection" class="section">
    <h2>Home</h2>
    <p>Welcome to Win89!</p>
</div>

<div id="investmentSection" class="section">
    <h2>Investment</h2>
    <p>Your investments appear here.</p>
</div>

<div id="blogSection" class="section">
    <h2>Blog</h2>
    <p>Latest blog posts.</p>
</div>

<div id="noticeSection" class="section">
    <h2>Notice</h2>
    <p>Important updates.</p>
</div>

<div id="accountSection" class="section">
    <h2>My Account</h2>
    <div class="account-stats">
        <div class="stat">
            <h3 id="balance">‚Çπ0</h3>
            <p>Balance</p>
        </div>
        <div class="stat">
            <h3 id="recharge">‚Çπ0</h3>
            <p>Recharge</p>
        </div>
        <div class="stat">
            <h3 id="withdrawal">‚Çπ0</h3>
            <p>Withdrawal</p>
        </div>
        <div class="stat">
            <h3 id="productRevenue">‚Çπ0</h3>
            <p>Product revenue</p>
        </div>
        <div class="stat">
            <h3 id="myOrders">0</h3>
            <p>My Orders</p>
        </div>
    </div>
    <div class="action-buttons">
        <button class="recharge-btn">Recharge</button>
        <button class="withdraw-btn">Withdrawal</button>
    </div>
    <br>
    <button onclick="logoutUser()">Logout</button>
</div>

<!-- Bottom navigation -->
<nav id="bottomNav">
    <button onclick="showSection('homeSection')"><span>üè†</span>Home</button>
    <button onclick="showSection('investmentSection')"><span>üí∞</span>Investment</button>
    <button onclick="showSection('blogSection')"><span>üìù</span>Blog</button>
    <button onclick="showSection('noticeSection')"><span>üì¢</span>Notice</button>
    <button onclick="showSection('accountSection')"><span>üë§</span>Account</button>
</nav>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyDvF1KrDDRZJucp-78dbvmQ34Oi3j17Rrk",
  authDomain: "investment-website-deml.firebaseapp.com",
  projectId: "investment-website-deml",
  storageBucket: "investment-website-deml.firebasestorage.app",
  messagingSenderId: "814451995593",
  appId: "1:814451995593:web:55e3280d9cb43200f1ee18",
  measurementId: "G-8FKZE5NNSX"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();
</script>

<script>
// Section switch
function showSection(id){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active-section'));
  const el = document.getElementById(id);
  if(el) el.classList.add('active-section');
}

// Auth
auth.onAuthStateChanged(user => {
  const nav = document.getElementById('bottomNav');
  if(user){
    nav.style.display = 'flex';
    showSection('homeSection');
    initUserData(user);
  } else {
    nav.style.display = 'none';
    showSection('loginSection');
  }
});

async function initUserData(user){
  const UID = user.uid;
  const userRef = db.collection('users').doc(UID);
  const snap = await userRef.get();
  if(!snap.exists){
    await userRef.set({
      userId: Math.floor(100000 + Math.random()*900000),
      balance:0, rechargeTotal:0, withdrawalTotal:0, productRevenue:0, orders:0,
      email: user.email
    });
  }
  userRef.onSnapshot(doc=>{
    const d = doc.data() || {};
    document.getElementById('balance').textContent = '‚Çπ'+(d.balance||0);
    document.getElementById('recharge').textContent = '‚Çπ'+(d.rechargeTotal||0);
    document.getElementById('withdrawal').textContent = '‚Çπ'+(d.withdrawalTotal||0);
    document.getElementById('productRevenue').textContent = '‚Çπ'+(d.productRevenue||0);
    document.getElementById('myOrders').textContent = d.orders||0;
  });
}

// Login/Register
async function loginUser(){
  const email = document.getElementById('loginEmail').value.trim();
  const pass = document.getElementById('loginPassword').value.trim();
  if(!email || !pass){ alert('Enter email & password'); return; }
  try{ await auth.signInWithEmailAndPassword(email, pass); }
  catch(e){ alert(e.message); if(e.code==='auth/user-not-found') showSection('registerSection'); }
}

async function registerUser(){
  const email = document.getElementById('registerEmail').value.trim();
  const pass = document.getElementById('registerPassword').value.trim();
  if(!email || !pass){ alert('Enter email & password'); return; }
  try{
    const cred = await auth.createUserWithEmailAndPassword(email, pass);
    await db.collection('users').doc(cred.user.uid).set({
      userId: Math.floor(100000 + Math.random()*900000),
      balance:0, rechargeTotal:0, withdrawalTotal:0, productRevenue:0, orders:0,
      email
    });
    alert('Registered! Please login.');
    showSection('loginSection');
  }catch(e){ alert(e.message); }
}

function logoutUser(){ auth.signOut(); }

// Account submenus
(function(){
  const wrap = document.createElement('div');
  wrap.className = 'menu-list';
  wrap.innerHTML = `
    <div class="menu-item" onclick="alert('Recharge panel')"><span class="menu-icon">üí≥</span><span class="menu-text">Recharge</span><span class="menu-arrow">‚Ä∫</span></div>
    <div class="menu-item" onclick="alert('Withdraw panel')"><span class="menu-icon">üèß</span><span class="menu-text">Withdraw</span><span class="menu-arrow">‚Ä∫</span></div>
    <div class="menu-item" onclick="alert('Bank Card panel')"><span class="menu-icon">üè¶</span><span class="menu-text">Bank Card</span><span class="menu-arrow">‚Ä∫</span></div>
    <div class="menu-item" onclick="alert('Transactions panel')"><span class="menu-icon">üßæ</span><span class="menu-text">Transactions</span><span class="menu-arrow">‚Ä∫</span></div>
    <div class="menu-item" onclick="alert('My Product panel')"><span class="menu-icon">üì¶</span><span class="menu-text">My Product</span><span class="menu-arrow">‚Ä∫</span></div>
    <div class="menu-item" onclick="alert('Support panel')"><span class="menu-icon">üí¨</span><span class="menu-text">Customer Service</span><span class="menu-arrow">‚Ä∫</span></div>
    <div class="menu-item" onclick="alert('Reset Password panel')"><span class="menu-icon">üîí</span><span class="menu-text">Reset Password</span><span class="menu-arrow">‚Ä∫</span></div>
  `;
  document.getElementById('accountSection').appendChild(wrap);
})();
</script>

</body>
</html>
